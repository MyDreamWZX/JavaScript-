# 生成器

生成器是 ES6 的一个新的函数类型，它并不像普通函数那样总是运行到结束。取而代之
的是，生成器可以在运行当中（完全保持其状态）暂停，并且将来再从暂停的地方恢复
运行。

这种交替的暂停和恢复是合作性的而不是抢占式的，这意味着生成器具有独一无二的能力
来暂停自身，这是通过关键字 yield 实现的。不过，只有控制生成器的迭代器具有恢复生
成器的能力（通过 next(..) ）。

yield / next(..) 这一对不只是一种控制机制，实际上也是一种双向消息传递机制。 yield .. 表达式本质上是暂停下来等待某个值，接下来的 next(..) 调用会向被暂停的 yield 表达式传回一个值（或者是隐式的 undefined ）。

在异步控制流程方面，生成器的关键优点是：生成器内部的代码是以自然的同步 / 顺序方
式表达任务的一系列步骤。其技巧在于，我们把可能的异步隐藏在了关键字 yield 的后面，
把异步移动到控制生成器的迭代器的代码部分。

换句话说，生成器为异步代码保持了顺序、同步、阻塞的代码模式，这使得大脑可以更自
然地追踪代码，解决了基于回调的异步的两个关键缺陷之一。